(this["webpackJsonptkl-dma"]=this["webpackJsonptkl-dma"]||[]).push([[0],{59:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),s=n(30),a=n.n(s),i=n(10),j=n(22),l=n(17),o=n(11),d=Object(j.b)({name:"Translations",initialState:{},reducers:{setTranslations:function(e,t){return Object(o.a)(Object(o.a)({},e),{},{messages:t.payload})}}}),u=d.actions.setTranslations,b=d.reducer,O=n(9),h="DMA",x="Papa bear",f="Mama bear",m="RP",p="COMMODIITES",S="REAL_ESTATE",g="GOLD",y="US_STOCKS",v="EX_US_STOCKS",T="DEVELOPED_MARKETS_STOCKS",A="EMERGING_MARKETS_STOCKS",E="LONG_TERM_BONDS",k="TIPS",_=new Map([[h,[y,v,E,k]],[x,[p,S,g,"LARGE_CAP_VALUES_STOCKS","LARGE_CAP_GROWTH_STOCKS","SMALL_CAP_VALUES_STOCKS","SMALL_CAP_GROWTH_STOCKS",T,A,E,"LONG_TERM_BONDS_EXTENDED","MID_TERM_BONDS","CORPORATE_BONDS"]],[f,["LARGE_CAP_STOCKS","SMALL_CAP_STOCKS",T,S,p,g,E,"SHORT_TERM_BONDS",A]],[m,[y,y,y,y,E,"HIGH_YIELD_BONDS"]]]),D={strategy:h,tickers:{},analyse:[],preconisation:void 0,status:void 0},w="STATUS/DONE",N="STATUS/ERROR",P="STATUS/LOADING",M=Object(j.b)({name:"UserStrategy",initialState:D,reducers:{changeSelectedStrategy:function(e,t){return Object(o.a)(Object(o.a)({},e),{},{strategy:t.payload})},addSelection:function(e,t){return Object(o.a)(Object(o.a)({},e),{},{tickers:Object(o.a)({},t.payload)})},addAssetAnalyse:function(e,t){return Object(o.a)(Object(o.a)({},e),{},{analyse:[].concat(Object(O.a)(e.analyse),[Object(o.a)({},t.payload)]),status:w})},setAnalyseLoading:function(e){return Object(o.a)(Object(o.a)({},e),{},{status:P})},setPreconisation:function(e,t){return Object(o.a)(Object(o.a)({},e),{},{preconisation:t.payload})}}}),C=M.actions,L=C.addSelection,R=C.changeSelectedStrategy,G=C.addAssetAnalyse,K=C.setAnalyseLoading,F=C.setPreconisation,U=M.reducer,I=Object(l.c)({userStrategy:U,translations:b}),B=(n(59),function(e){var t=e.number,n=e.children;return Object(c.jsxs)("div",{className:"numbered-card",children:[Object(c.jsx)("section",{className:"number",children:t}),Object(c.jsx)("section",{children:n})]})}),V=n(76),q=n(33),H=(n(61),function(){var e,t=Object(V.a)(),n=Object(i.b)(),r=Object(q.a)(),s=r.register,a=r.handleSubmit,j=Object(i.c)((function(e){return e.userStrategy}));return Object(c.jsxs)("form",{className:"tickers-form",onSubmit:a((function(e){n(L(e))})),children:[Object(c.jsx)("h3",{children:"J'ajoute mes tickers en fonction de ma strat\xe9gie"}),Object(c.jsx)("div",{className:"tickers",children:null===(e=_.get(j.strategy+""))||void 0===e?void 0:e.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{children:t.formatMessage({id:"ASSETS."+e})}),Object(c.jsx)("input",{type:"text",name:e+"",placeholder:"SPY",ref:s({required:!0})})]},e)}))}),Object(c.jsx)("button",{type:"submit",children:"Valider"})]})}),z=(n(62),function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.userStrategy}));return Object(c.jsxs)("div",{className:"assets-selector",children:[Object(c.jsxs)(B,{number:1,children:[Object(c.jsx)("h3",{children:"Je selectionne ma strat\xe9gie"}),Object(c.jsxs)("select",{name:"stategy",value:t.strategy+"",onChange:function(t){e(R(t.target.value))},children:[Object(c.jsx)("option",{value:h,children:h}),Object(c.jsx)("option",{value:x,children:x}),Object(c.jsx)("option",{value:f,children:f}),Object(c.jsx)("option",{value:m,children:m})]})]}),Object(c.jsx)(B,{number:2,children:Object(c.jsx)(H,{})})]})}),J=function(e){return e&&0===Object.keys(e).length},Y=function(e,t){var n=t-1,c=new Date(e.getFullYear(),e.getMonth()-n,0);return c.setDate(Math.min(e.getDate(),c.getDate())),c},W=function(e){return e.toISOString().slice(0,10)},X=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Q=(n(63),function(){return Object(c.jsx)("svg",{className:"styled-spinner",viewBox:"0 0 50 50",children:Object(c.jsx)("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"4"})})}),Z=n(6),$=n.n(Z),ee=n(13),te=function(e){var t=e.baseUrl,n=e.apiEndpoint,c=e.queryParams;return c?"".concat(t).concat(n,"?").concat(new URLSearchParams(c)):"".concat(t).concat(n)},ne=function(e){if(e.ok)return e.json();throw new Error("Something went wrong.")},ce=function(){var e=Object(ee.a)($.a.mark((function e(t,n,c){var r;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={baseUrl:"http://api.marketstack.com",apiEndpoint:"/v1/eod",queryParams:{access_key:"9764b11480123a4971883a8c88a8132f",symbols:t,date_from:W(n),date_to:W(c),limit:150}},e.abrupt("return",fetch(te(r),{method:"GET"}).then(ne).then((function(e){return e})).catch((function(e){console.error(e)})));case 2:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),re=function(e){return e&&100*(e.data[1].close/e.data[e.data.length-1].open-1)},se=function(){var e=Object(ee.a)($.a.mark((function e(t,n){var c;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(t,n,new Date);case 2:return c=e.sent,e.abrupt("return",re(c));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ae=function(e,t){var n;return e.forEach((function(e){return e.asset===t?n=e:null})),n},ie=(n(64),function(){var e=Object(V.a)(),t=Object(i.b)(),n=Object(i.c)((function(e){return e.userStrategy}));return Object(r.useEffect)((function(){var e;n.analyse.length===Object.keys(n.tickers).length&&t((e=n.analyse,function(t){var n=ae(e,y),c=ae(e,v),r=ae(e,E),s=ae(e,k),a=n.avg>c.avg?n:c,i=r.avg>s.avg?r:s;a.avg>0?t(F(a)):t(F(i))}))}),[n.analyse,t,n.tickers,n.tickers.length]),Object(c.jsxs)("div",{className:"dma-report-viewer",children:[Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Asset"}),Object(c.jsx)("th",{children:"Ticker selectionn\xe9"}),Object(c.jsx)("th",{children:"Performance sur 1 mois"}),Object(c.jsx)("th",{children:"Performance sur 3 mois"}),Object(c.jsx)("th",{children:"Performance sur 6 mois"}),Object(c.jsx)("th",{children:"Moyenne"})]})}),Object(c.jsx)("tbody",{children:n.analyse&&n.analyse.map((function(t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.formatMessage({id:"ASSETS."+t.asset})}),Object(c.jsx)("td",{children:t.ticker}),Object(c.jsxs)("td",{children:[t[1].toFixed(2)," %"]}),Object(c.jsxs)("td",{children:[t[3].toFixed(2)," %"]}),Object(c.jsxs)("td",{children:[t[6].toFixed(2)," %"]}),Object(c.jsxs)("td",{children:[t.avg.toFixed(2)," %"]})]},t.asset)}))})]}),Object(c.jsxs)("h3",{children:["Pr\xe9conisation d'achat :",n.preconisation?Object(c.jsxs)("p",{children:[e.formatMessage({id:"ASSETS."+n.preconisation.asset})," (",n.preconisation.ticker,")"]}):Object(c.jsx)(Q,{})]})]})}),je=function(){switch(Object(i.c)((function(e){return e.userStrategy.strategy}))){case h:return Object(c.jsx)(ie,{});default:return Object(c.jsx)("p",{children:"Stat\xe9gie inconnue"})}},le=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.userStrategy})),n=function(){e(K()),e(function(e){return function(t){var n=Y(new Date,6),c=Y(new Date,3),r=Y(new Date,1);_.get(e.strategy).forEach(function(){var s=Object(ee.a)($.a.mark((function s(a){var i,j,l,o;return $.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return i=e.tickers[a],s.next=3,X(2e3);case 3:return s.next=5,se(i,n);case 5:return j=s.sent,s.next=8,X(2e3);case 8:return s.next=10,se(i,c);case 10:return l=s.sent,s.next=13,X(2e3);case 13:return s.next=15,se(i,r);case 15:return o=s.sent,s.next=18,X(2e3);case 18:t(G({asset:a,ticker:i,avg:(j+l+o)/3,1:o,3:l,6:j}));case 20:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}())}}(t))};return Object(c.jsx)("div",{className:"assets-analyzer",children:J(t.tickers)?Object(c.jsx)("p",{children:"Veuillez selectionner une strat\xe9gie et saisir les tickers."}):J(t.analyse)&&!t.status?Object(c.jsx)("button",{onClick:function(){return n()},children:"Lancer l'analyse"}):Object(c.jsx)("div",{className:"max-width-center",children:t.status===P?Object(c.jsx)(Q,{}):t.status===N?Object(c.jsx)("p",{children:"D\xe9sol\xe9 nous ne prennons pas encore en compte cette strat\xe9gie ou une erreur a \xe9t\xe9 rencontr\xe9e."}):Object(c.jsx)(je,{})})})},oe=(n(65),function(){return Object(c.jsx)("section",{className:"footer",children:Object(c.jsx)("p",{children:Object(c.jsx)("i",{children:"Attention, il ne s'agit pas de conseils d'achats. Cet outil te permet d'avoir une lecture rapide des momentums."})})})});var de=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("section",{className:"content",children:[Object(c.jsx)("h2",{children:"Strat\xe9gie & Tickers"}),Object(c.jsx)(z,{}),Object(c.jsx)("h2",{children:"Analyse"}),Object(c.jsx)(le,{})]}),Object(c.jsx)(oe,{})]})},ue=n(27),be=n(7),Oe=n(77),he=n(45),xe=n.n(he),fe=n(21),me=(n(66),function(e){var t=e.setAnalyse,n=Object(q.a)(),r=n.register,s=n.handleSubmit;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h3",{children:"J'ins\xe8re les informations du ticker que je veux analyser"}),Object(c.jsxs)("form",{className:"ticker-analyse-form",onSubmit:s((function(e){ce(e.ticker,new Date(e.date),new Date).then((function(e){return t({first:e.data[e.data.length-1],last:e.data[0],performance:re(e)})}))})),children:[Object(c.jsxs)("label",{children:["Ticker",Object(c.jsx)("input",{type:"text",name:"ticker",placeholder:"SPY",ref:r({required:!0})})]}),Object(c.jsxs)("label",{children:["P\xe9riode de stats (Max 4ans)",Object(c.jsx)("input",{type:"date",name:"date",placeholder:"SPY",ref:r({required:!0})})]}),Object(c.jsx)("button",{type:"submit",children:"Valider"})]})]})}),pe=(n(67),function(e){var t=e.analyse;return Object(c.jsxs)("div",{className:"ticker-analyse-visualisation",children:[Object(c.jsx)("h3",{children:"R\xe9sultats"}),Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Date"}),Object(c.jsx)("th",{children:"Ticker"}),Object(c.jsx)("th",{children:"Ouverture"}),Object(c.jsx)("th",{children:"Fermeture"}),Object(c.jsx)("th",{children:"Valeur haute"}),Object(c.jsx)("th",{children:"Valeur basse"}),Object(c.jsx)("th",{children:"Volume"})]})}),Object(c.jsxs)("tbody",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:new Date(t.first.date).toDateString()}),Object(c.jsx)("td",{children:t.first.symbol}),Object(c.jsx)("td",{children:t.first.open}),Object(c.jsx)("td",{children:t.first.close}),Object(c.jsx)("td",{children:t.first.high}),Object(c.jsx)("td",{children:t.first.low}),Object(c.jsx)("td",{children:t.first.volume})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:new Date(t.last.date).toDateString()}),Object(c.jsx)("td",{children:t.last.symbol}),Object(c.jsx)("td",{children:t.last.open}),Object(c.jsx)("td",{children:t.last.close}),Object(c.jsx)("td",{children:t.last.high}),Object(c.jsx)("td",{children:t.last.low}),Object(c.jsx)("td",{children:t.last.volume})]})]})]}),Object(c.jsxs)("h4",{children:["Performance : ",t.performance.toFixed(2)," %"]})]})}),Se=function(){var e=Object(r.useState)(),t=Object(fe.a)(e,2),n=t[0],s=t[1];return Object(c.jsxs)("section",{className:"content",children:[Object(c.jsx)(B,{number:1,children:Object(c.jsx)(me,{setAnalyse:s})}),n?Object(c.jsx)(pe,{analyse:n}):Object(c.jsx)(c.Fragment,{})]})};n(68);var ge=function(){return Object(c.jsxs)("header",{children:[Object(c.jsxs)("div",{className:"logo-and-title",children:[Object(c.jsx)(ue.b,{to:"/",children:Object(c.jsx)("img",{alt:"Bourse Academy",src:"https://us.allianzgi.com/-/media/allianzgi/na/us/images/1920x980-momentum-driven-investing-hero.jpg?w=1152&hash=555965964A7131396E7A5885525C8D39"})}),Object(c.jsx)("h1",{children:"Momentum Analyzer"})]}),Object(c.jsx)("nav",{children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)(ue.b,{to:"/",children:Object(c.jsx)("b",{children:"Home"})})}),Object(c.jsx)("li",{children:Object(c.jsx)(ue.b,{to:"/research",children:Object(c.jsx)("b",{children:"Ticker analyse"})})})]})})]})},ye=function(){var e=Object(i.c)((function(e){return e.translations.messages})),t=Object(i.b)();return Object(r.useEffect)((function(){t((function(e){return fetch("".concat(window.location.href,"/data/translations.json"),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(ne).then((function(t){return e(u(xe()(t)))}))}))}),[t]),Object(c.jsx)(c.Fragment,{children:e?Object(c.jsx)(Oe.a,{messages:e,locale:"fr",defaultLocale:"fr",children:Object(c.jsx)(ue.a,{children:Object(c.jsxs)("div",{children:[Object(c.jsx)(ge,{}),Object(c.jsxs)(be.c,{children:[Object(c.jsx)(be.a,{path:"/research",children:Object(c.jsx)(Se,{})}),Object(c.jsx)(be.a,{path:"/",children:Object(c.jsx)(de,{})})]})]})})}):Object(c.jsx)(Q,{})})},ve=(n(72),Object(j.a)({reducer:I,devTools:!0}));a.a.render(Object(c.jsx)(i.a,{store:ve,children:Object(c.jsx)(ye,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.53e15c60.chunk.js.map